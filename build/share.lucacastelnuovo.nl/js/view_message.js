"use strict";var submitBtn=document.querySelector("#submitBtn"),container=document.querySelector("#container");submitBtn.addEventListener("click",function(){var e=document.querySelector("#inputToken").value,t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState<4)submitBtn.innerHTML="Loading...";else if(4===t.readyState){if(!(200===t.status&&t.status<300))return M.Toast.dismissAll(),M.toast({html:"Server error, please try again later."}),submitBtn.innerHTML="View message",!1;var e=JSON.parse(t.responseText);if(!e.success)return M.Toast.dismissAll(),M.toast({html:e.error}),submitBtn.innerHTML="View message",!1;var n="\n                    <div class='row'>\n                        <p>\n                            ".concat(e.message,"\n                        </p>\n                    </div>\n                    <div class='row'>\n                        <a onClick='window.location.replace(\"/\");' class='col s12 btn-small waves-effect blue accent-4'>\n                            Close message\n                        </a>\n                    </div>\n                ");container.innerHTML=n}},t.open("GET","/message/?token=".concat(e)),t.send()});