"use strict";function copyURL(){document.querySelector("#inputURL").select(),document.execCommand("copy"),M.toast({html:"Copied link"})}
//# sourceMappingURL=create_message.js.map
var submitBtn=document.querySelector("#submitBtn"),container=document.querySelector("#container");submitBtn.addEventListener("click",function(){var e=document.querySelector("#access_token").value,t=encodeURIComponent(document.querySelector("#inputMessage").value),n=document.querySelector("#inputExpires").value,a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState<4)submitBtn.innerHTML="Loading...";else if(4===a.readyState){if(!(200===a.status&&a.status<300))return M.Toast.dismissAll(),M.toast({html:"Server error, please try again later."}),!(submitBtn.innerHTML="Create message");var e=JSON.parse(a.responseText);if(!e.success)return M.Toast.dismissAll(),M.toast({html:e.error}),!(submitBtn.innerHTML="Create Message");var t='\n                    <div class=\'row\'>\n                        <div class=\'input-field col s12\'>\n                            <input id="inputURL" type="text" value="'.concat(e.url,"\" readonly onclick=\"copyURL();\">\n                        </div>\n                    </div>\n                    <div class='row'>\n                        <a onClick='window.location.reload()' class='col s12 btn-large waves-effect blue accent-4'>\n                            Create another message\n                        </a>\n                    </div>\n                    <div class='row'>\n                        <a href='/' class='col s12 btn-small waves-effect blue accent-4'>\n                            Home\n                        </a>\n                    </div>\n                ");container.innerHTML=t;var n=document.querySelector("#textarea-message");M.textareaAutoResize(n)}},a.open("POST","/message/index.php"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send("access_token=".concat(e,"&message=").concat(t,"&expires=").concat(n))});